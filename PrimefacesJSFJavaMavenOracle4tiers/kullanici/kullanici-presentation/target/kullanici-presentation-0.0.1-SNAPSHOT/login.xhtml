<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head></h:head>
<body>
	<h:form>
		<p:panelGrid columns="2"
			style="positions: absolute; top: 250px; left: 500px;">
			<f:facet name="header">Login Form</f:facet>
			<h:outputText value="Username" />
			<p:inputText value="#{login.username}" />
			<h:outputText value="Password" />
			<p:password value="#{login.password}" />
			<f:facet name="footer">
				<p:commandButton value="Submit"
					actionListener="#{login.checkUser()}" />
			</f:facet>
		</p:panelGrid>
	</h:form>

	<script type="text/javascript">
    function handleLoginRequest(xhr, status, args) {
        if(args.validationFailed || !args.loggedIn) {
            PF('dlg').jq.effect("shake", {times:5}, 100);
        }
        else {
            PF('dlg').hide();
            $('#loginLink').fadeOut();
        }
    }
</script>

</body>
</html>
